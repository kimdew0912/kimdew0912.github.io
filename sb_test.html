<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Scrapbook Bridge Test</title>
  <style>
    body { font-family: sans-serif; padding: 1em; }
    button { margin-bottom: 0.5em; }
    pre { background: #f0f0f0; padding: 1em; border-radius: 6px; }
  </style>
  <script>
    function log(msg) {
      const el = document.getElementById('log');
      el.innerText += msg + "\n";
    }

    window.whale = window.whale || {};
    whale.nativeCallback = {
      setCurrentPageInfo: function(url, title, faviconUrl) {
        log("[Callback] setCurrentPageInfo");
        log("  URL: " + url);
        log("  Title: " + title);
        log("  Favicon: " + faviconUrl);
        document.getElementById('info').innerText = title;
      },
      goToEditView: function(contentId) {
        log("[Callback] goToEditView: " + contentId);
        alert("Edit View for contentId: " + contentId);
      },
      cancelContentDelete: function() {
        log("[Callback] cancelContentDelete()");
        alert("Delete Cancelled");
      }
    };

    function callSelectItem() {
      const data = { id: "abc123", name: "í…ŒìŠ¤íŠ¸ í•­ëª©" };
      scrapbook.selectItem(JSON.stringify(data));
      log("[Action] selectItem() called");
    }

    function callGetCurrentPageInfo() {
      scrapbook.getCurrentPageInfo();
      log("[Action] getCurrentPageInfo() called");
    }

    function callShowNotifyMessage() {
      scrapbook.showNotifyMessage(JSON.stringify({ message: "ì•ˆë…•, Native!" }));
      log("[Action] showNotifyMessage() called");
    }
  </script>
</head>
<body>
  <h1>Scrapbook Web â†” Android Test</h1>
  <button onclick="callSelectItem()">ğŸ“© Web â†’ Android: selectItem()</button><br>
  <button onclick="callGetCurrentPageInfo()">ğŸ”„ Web â†’ Android â†’ Web: getCurrentPageInfo()</button><br>
  <button onclick="callShowNotifyMessage()">ğŸ”” Web â†’ Android: showNotifyMessage()</button><br><br>

  <h3>ğŸ“˜ í˜„ì¬ í˜ì´ì§€ íƒ€ì´í‹€:</h3>
  <pre id="info">(ì—†ìŒ)</pre>

  <h3>ğŸ“œ ë¡œê·¸</h3>
  <pre id="log">(ì•„ì§ ì—†ìŒ)</pre>
</body>
</html>
