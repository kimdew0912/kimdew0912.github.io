<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Scrapbook Bridge Test</title>
  <script>
    window.whale = window.whale || {};
    whale.nativeCallback = {
      setCurrentPageInfo: function(url, title, faviconUrl) {
        console.log("[Callback] setCurrentPageInfo:", url, title, faviconUrl);
        document.getElementById('info').innerText = `URL: ${url}\nTitle: ${title}\nFavicon: ${faviconUrl}`;
      },
      goToEditView: function(contentId) {
        console.log("[Callback] goToEditView:", contentId);
        alert("Edit View for contentId: " + contentId);
      },
      cancelContentDelete: function() {
        console.log("[Callback] cancelContentDelete");
        alert("Delete Cancelled");
      }
    };

    function callSelectItem() {
      const data = { id: "abc123", name: "í…ŒìŠ¤íŠ¸ í•­ëª©" };
      scrapbook.selectItem(JSON.stringify(data));
    }

    function callGetCurrentPageInfo() {
      scrapbook.getCurrentPageInfo();
    }

    function callShowNotifyMessage() {
      scrapbook.showNotifyMessage(JSON.stringify({ message: "ì•ˆë…•, Native!" }));
    }
  </script>
</head>
<body>
  <h1>Scrapbook Web â†” Android Test</h1>
  <button onclick="callSelectItem()">ğŸ“© Web â†’ Android: selectItem()</button><br><br>
  <button onclick="callGetCurrentPageInfo()">ğŸ”„ Web â†’ Android â†’ Web: getCurrentPageInfo()</button><br><br>
  <button onclick="callShowNotifyMessage()">ğŸ”” Web â†’ Android: showNotifyMessage()</button><br><br>
  <pre id="info">(í˜ì´ì§€ ì •ë³´ ì¶œë ¥ ì˜ì—­)</pre>
</body>
</html>
